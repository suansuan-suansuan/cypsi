<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cy.psi.dao.BaseDepotDao">

    <resultMap type="com.cy.psi.entity.BaseDepot" id="BaseDepotMap">
        <result property="depotId" column="depot_id" jdbcType="VARCHAR"/>
        <result property="depotName" column="depot_name" jdbcType="VARCHAR"/>
        <result property="uId" column="u_id" jdbcType="VARCHAR"/>
        <result property="ontactNumber" column="ontact_number" jdbcType="VARCHAR"/>
        <result property="depotAddress" column="depot_address" jdbcType="VARCHAR"/>
        <result property="remarks" column="remarks" jdbcType="VARCHAR"/>
        <result property="state" column="state" jdbcType="INTEGER"/>
    </resultMap>

    <sql id="BaseDepotCol">
        depot_id, depot_name, u_id, ontact_number, depot_address, remarks, state    </sql>

    <!--查询单个-->
    <select id="queryById" resultMap="BaseDepotMap">
        select
        <include refid="BaseDepotCol"></include>
        from cypsi.base_depot
        where depot_id = #{depotId}
    </select>

    <!--查询所有-->
    <select id="queryAll" resultMap="BaseDepotMap">
        select
        <include refid="BaseDepotCol"></include>
        from cypsi.base_depot
    </select>

    <!--查询所有-->
    <select id="queryAllWWWW" resultMap="BaseDepotMap">
        select
        <include refid="BaseDepotCol"></include>
        from cypsi.base_depot
    </select>

    <!--通过实体作为或者条件查询-->
    <select id="queryOrByPojo" resultMap="BaseDepotMap">
        select
        <include refid="BaseDepotCol"></include>
        from cypsi.base_depot
        <where>
            <if test="depotId != null and depotId != ''">
                or depot_id like CONCAT('%',#{depotId},'%')
            </if>
            <if test="depotName != null and depotName != ''">
                or depot_name like CONCAT('%',#{depotName},'%')
            </if>
            <if test="uId != null and uId != ''">
                or u_id like CONCAT('%',#{uId},'%')
            </if>
            <if test="ontactNumber != null and ontactNumber != ''">
                or ontact_number like CONCAT('%',#{ontactNumber},'%')
            </if>
            <if test="depotAddress != null and depotAddress != ''">
                or depot_address like CONCAT('%',#{depotAddress},'%')
            </if>
            <if test="remarks != null and remarks != ''">
                or remarks like CONCAT('%',#{remarks},'%')
            </if>
            <if test="state != null">
                or state like CONCAT('%',#{state},'%')
            </if>
        </where>
    </select>

    <!--通过实体作为并且条件查询-->
    <select id="queryAndByPojo" resultMap="BaseDepotMap">
        select
        <include refid="BaseDepotCol"></include>
        from cypsi.base_depot
        <where>
            <if test="depotId != null and depotId != ''">
                and depot_id = #{depotId}
            </if>
            <if test="depotName != null and depotName != ''">
                and depot_name = #{depotName}
            </if>
            <if test="uId != null and uId != ''">
                and u_id = #{uId}
            </if>
            <if test="ontactNumber != null and ontactNumber != ''">
                and ontact_number = #{ontactNumber}
            </if>
            <if test="depotAddress != null and depotAddress != ''">
                and depot_address = #{depotAddress}
            </if>
            <if test="remarks != null and remarks != ''">
                and remarks = #{remarks}
            </if>
            <if test="state != null">
                and state = #{state}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert">
        insert into cypsi.base_depot
        <trim prefix="(" suffix=")" suffixOverrides=",">

            <if test="depotName != null">
                depot_name,
            </if>
            <if test="uId != null">
                u_id,
            </if>
            <if test="ontactNumber != null">
                ontact_number,
            </if>
            <if test="depotAddress != null">
                depot_address,
            </if>
            <if test="remarks != null">
                remarks,
            </if>
            <if test="state != null">
                state,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">

            <if test="depotName != null">
                #{depotName},
            </if>
            <if test="uId != null">
                #{uId},
            </if>
            <if test="ontactNumber != null">
                #{ontactNumber},
            </if>
            <if test="depotAddress != null">
                #{depotAddress},
            </if>
            <if test="remarks != null">
                #{remarks},
            </if>
            <if test="state != null">
                #{state},
            </if>
        </trim>

    </insert>




    <!--通过主键修改数据-->
    <update id="update">
        update cypsi.base_depot
        <set>
            <if test="depotName != null">
                depot_name = #{depotName},
            </if>
            <if test="uId != null">
                u_id = #{uId},
            </if>
            <if test="ontactNumber != null">
                ontact_number = #{ontactNumber},
            </if>
            <if test="depotAddress != null">
                depot_address = #{depotAddress},
            </if>
            <if test="remarks != null">
                remarks = #{remarks},
            </if>
            <if test="state != null">
                state = #{state},
            </if>
        </set>
        where depot_id = #{depotId}
    </update>
    <update id="updateBatch"></update>




    <!--通过主键删除数据-->
    <delete id="deleteById">
        delete from cypsi.base_depot where depot_id = #{depotId}
    </delete>

    <!--通过主键列表批量删除数据-->
    <delete id="deleteBatch">
        delete from cypsi.base_depot where depot_id in
        <foreach collection="list" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

    <!--通过实体列表批量删除数据-->
    <delete id="deleteBatchByEntities">
        delete from cypsi.base_depot where depot_id in
        <foreach collection="list" item="entity" open="(" separator="," close=")">
            #{entity.depotId}
        </foreach>
    </delete>
</mapper>

